<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS Casino</title>
    <style>
      label {
        display: block;
        margin-bottom: 20px;
      }
      input {
        width: 50px;
        height: 30px;
        padding-left: 10px;
      }
      button {
        padding: 10px 20px;
        border: none;
        outline: none;
        border-radius: 5px;
        color: #fff;
        background-color: #444;
      }
    </style>
  </head>
  <body>
    <h1>Random Number Game</h1>
    <label>
      범위를 설정해주세요 : 0부터
      <input
        class="choice-num"
        type="number"
        min="0"
        placeholder="0"
        required
      />
      까지의 숫자
    </label>
    <label for="guess-num">
      숫자를 맞춰보세요 :
      <input type="number" id="guess-num" min="0" required />
    </label>
    <button class="play-btn" type="submit">Play!</button>
    <p class="desc"></p>
    <p class="result"></p>

    <script>
      const playBtn = document.querySelector('.play-btn');

      function randomNumber() {
        const choice = document.querySelector('.choice-num').value;
        const guess = document.querySelector('#guess-num').value;

        const random = parseInt(Math.random() * choice);
        if (+guess > +choice) {
          alert('지정한 범위 내에서 숫자를 선택해주세요');
        } else if (choice != '' && guess != '' && +guess <= +choice) {
          describtion(guess, random);
          result(guess, random);
        }
      }

      // 게임 설명
      function describtion(guess, random) {
        const desc = document.querySelector('.desc');
        desc.innerText = `당신이 선택한 숫자는 ${guess}이고, 컴퓨터가 선택한 숫자는 ${random} 입니다.`;
      }

      // 게임 결과 표시
      let count = 0;

      function result(guess, random) {
        const result = document.querySelector('.result');
        const number_guess = Number(guess);

        if (number_guess !== random) {
          result.innerText = '당신이 졌네요!';
          count += 1;
        } else if (number_guess == random) {
          result.innerText = `당신이 ${count}번 만에 이겼습니다!.`;
          count = 1;
        }
      }

      playBtn.addEventListener('click', randomNumber);
    </script>
  </body>
</html>
